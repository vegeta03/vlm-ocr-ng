<mat-card appearance="outlined" class="file-upload-section bg-surface-variant elevation-2">
  <mat-card-header>
    <mat-card-title>File upload for OCR using a VLM</mat-card-title>
    <mat-card-subtitle>Supports JPG, PNG, PDF and multi-page TIFF files</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <p class="text-body-medium text-on-surface-variant mb-4">File details will appear below after selection</p>
    <input #fileInput type="file" id="fileInput" class="hidden" accept=".jpg,.jpeg,.png,.pdf,.tiff,.tif" (change)="onChange($event)"/>
    <button mat-flat-button color="primary" (click)="fileInput.click()">Upload File</button>

    <div id="fileDetails" [class.state-empty]="!file">
      @if (!file) {
        <div class="empty-state">
          <span class="text-on-surface-variant">No file selected</span>
        </div>
      } @else {
        <div class="file-info">
          <div class="flex items-center">
            <span class="file-name font-medium">{{ file.name }}</span>
            <span class="file-size text-on-surface-variant ml-2">{{ file.size | bytes }}</span>
            <button mat-stroked-button class="ml-auto" (click)="clear()">Clear</button>
          </div>
          <div class="progress-container" [class.hidden]="!uploading">
            <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
          </div>
        </div>
      }
    </div>
  </mat-card-content>
</mat-card>
